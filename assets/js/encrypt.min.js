const texto=document.getElementById("text_encrypt"),encryptButton=document.getElementById("encryptButton"),decryptButton=document.getElementById("decryptButton"),callbackNoResult=document.getElementById("no-result"),callbackResult=document.getElementById("result"),copyButton=document.getElementById("copyButton"),triggerPopUp=document.getElementById("trigger-popup"),popUp=document.getElementsByClassName("result"),triggerNotice=document.getElementById("close-notice"),messageNotice=document.getElementById("alert");function validateText(e){return!e.match(/[A-ZñÑáéíóúÁÉÍÓÚ]/g)}function encryptText(e){let t={a:"ai",e:"enter",i:"imes",o:"ober",u:"ufat"},o=e.split(""),r="";return o.forEach(e=>{t[e]?r+=t[e]:r+=e}),r}function decryptText(e){let t={ai:"a",enter:"e",imes:"i",ober:"o",ufat:"u"},o="";return e.replace(/ai|enter|imes|ober|ufat/gi,function(e){return t[e]})}function copyTextToClipboard(e){if(!navigator.clipboard){fallbackCopyTextToClipboard(e);return}navigator.clipboard.writeText(e).then(function(){alertNotice("success","Copiado al portapapeles")},function(e){alertNotice("error","Error al copiar en portapapeles")})}function fallbackCopyTextToClipboard(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),alertNotice("success","Copiado al portapapeles")}catch(o){alertNotice("error","Error al copiar en portapapeles")}document.body.removeChild(t)}function alertNotice(e,t){t&&(triggerNotice.parentNode.classList.add(e),messageNotice.innerText=t,triggerNotice.parentNode.classList.remove("notice-hide")),setTimeout(()=>{triggerNotice.parentNode.className="",triggerNotice.parentNode.classList.add("notice"),triggerNotice.parentNode.classList.add("notice-hide")},3e3)}encryptButton.addEventListener("click",e=>{if(e.preventDefault(),texto.value){if(!validateText(texto.value)){alertNotice("error","Texto no valido");return}callbackNoResult.classList.add("d-none"),callbackResult.classList.remove("d-none"),copyButton.classList.remove("d-none"),popUp[0].classList.remove("close"),popUp[0].classList.contains("close")?triggerPopUp.innerText="Ver resultados":triggerPopUp.innerText="X";let t=encryptText(texto.value);callbackResult.innerText=t}else callbackNoResult.classList.remove("d-none"),callbackResult.classList.add("d-none"),copyButton.classList.add("d-none"),alertNotice("warning","Agrege un texto")}),decryptButton.addEventListener("click",e=>{if(e.preventDefault(),texto.value){if(!validateText(texto.value)){alertNotice("error","Texto no valido");return}callbackNoResult.classList.add("d-none"),callbackResult.classList.remove("d-none"),copyButton.classList.remove("d-none"),popUp[0].classList.remove("close"),popUp[0].classList.contains("close")?triggerPopUp.innerText="Ver resultados":triggerPopUp.innerText="X";let t=decryptText(texto.value);callbackResult.innerText=t}else callbackNoResult.classList.remove("d-none"),callbackResult.classList.add("d-none"),copyButton.classList.add("d-none"),alertNotice("warning","Agrege un texto")}),copyButton.addEventListener("click",e=>{copyTextToClipboard(callbackResult.innerText)}),triggerPopUp.addEventListener("click",()=>{popUp[0].classList.toggle("close"),popUp[0].classList.contains("close")?triggerPopUp.innerText="Ver resultados":triggerPopUp.innerText="X"}),triggerNotice.addEventListener("click",()=>{triggerNotice.parentNode.className="",triggerNotice.parentNode.classList.add("notice"),triggerNotice.parentNode.classList.add("notice-hide")});